<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MyHealthnessPal</title>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="container">
    <header class="header">
      <h1>MyHealthnessPal</h1>
      <div class="header-meta">
	        <div class="profile-picker profile-picker--header" aria-label="Sample profiles">
	          <div class="profile-picker-row" role="group" aria-label="Select sample profile">
            <button type="button" class="profile-btn" data-profile="baseline-barry">
              Baseline Barry
            </button>
            <button type="button" class="profile-btn" data-profile="weightloss-wally">
              Weight-loss Wally
            </button>
            <button type="button" class="profile-btn" data-profile="athlete-anna">
              Athlete Anna
            </button>
            <button type="button" class="profile-btn" data-profile="protein-paul">
              Protein-deficient Paul
            </button>
            <button type="button" class="profile-btn" data-profile="hypertension-holly">
              Hypertension Holly
            </button>
            <button type="button" class="profile-btn" data-profile="chronic-chloe">
              Chronic Chloe
            </button>
	          </div>
	        </div>
	      </div>
	    </header>

    <div id="errors" class="errors" role="alert"></div>

    <section class="card glass" aria-labelledby="focus-title">
      <div class="card-header">
        <h2 id="focus-title">Dash</h2>
        <div class="muted" id="focusRange">—</div>
      </div>

      <div class="focus-grid">
        <div class="focus-card glass">
          <div class="focus-head">
            <div>
              <div class="focus-kicker">Sleep</div>
              <div class="focus-value" id="sleepNow">—</div>
              <div class="muted" id="sleepMeta">Last 7 days</div>
            </div>
            <div class="segmented" role="group" aria-label="Sleep range">
              <button type="button" class="segmented-btn" data-range-panel="sleep" data-range-days="1"
                aria-pressed="false">
                1D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="sleep" data-range-days="7"
                aria-pressed="true">
                7D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="sleep" data-range-days="30"
                aria-pressed="false">
                30D
              </button>
            </div>
          </div>
          <div class="focus-body">
            <div id="sleepDay" class="sleep-day" hidden></div>
            <div id="sleepRange" class="sleep-range">
              <canvas id="focusSleepChart"></canvas>
            </div>
          </div>
        </div>

        <div class="focus-card glass">
          <div class="focus-head">
            <div>
              <div class="focus-kicker">Physiological stress</div>
              <div class="muted" id="stressMeta">Previous day</div>
            </div>
            <div class="segmented" role="group" aria-label="Physiological stress range">
              <button type="button" class="segmented-btn" data-range-panel="stress" data-range-days="1"
                aria-pressed="true">
                1D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="stress" data-range-days="7"
                aria-pressed="false">
                7D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="stress" data-range-days="30"
                aria-pressed="false">
                30D
              </button>
            </div>
          </div>
          <div class="focus-body focus-body--center">
            <div class="stress-circle" id="stressCircle" data-empty="true">
              <svg class="stress-ring" viewBox="0 0 36 36" aria-hidden="true">
                <circle class="stress-ring-track" cx="18" cy="18" r="15.5" pathLength="100"></circle>
                <circle class="stress-ring-progress" cx="18" cy="18" r="15.5" pathLength="100"></circle>
              </svg>
              <div class="stress-circle-value" id="stressNow">—</div>
            </div>
            <canvas id="focusStressChart" hidden></canvas>
          </div>
          <div class="focus-note" id="stressNote"></div>
        </div>

        <div class="focus-card glass">
          <div class="focus-head">
            <div>
              <div class="focus-kicker">Exercise</div>
              <div class="focus-value" id="exerciseNow">—</div>
              <div class="muted" id="exerciseMeta">Last 7 days</div>
            </div>
            <div class="segmented" role="group" aria-label="Exercise range">
              <button type="button" class="segmented-btn" data-range-panel="exercise" data-range-days="1"
                aria-pressed="false">
                1D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="exercise" data-range-days="7"
                aria-pressed="true">
                7D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="exercise" data-range-days="30"
                aria-pressed="false">
                30D
              </button>
            </div>
          </div>
          <div class="focus-body">
            <canvas id="focusExerciseChart"></canvas>
            <div id="exerciseDay" class="exercise-day" hidden></div>
          </div>
          <div class="focus-note" id="exerciseNote"></div>
        </div>

        <div class="focus-card glass">
          <div class="focus-head">
            <div>
              <div class="focus-kicker">Nutrition</div>
              <div class="focus-value" id="nutritionNow">—</div>
              <div class="muted" id="nutritionMeta">One-day totals</div>
            </div>
            <div class="segmented" role="group" aria-label="Nutrition range">
              <button type="button" class="segmented-btn" data-range-panel="nutrition" data-range-days="1"
                aria-pressed="true">
                1D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="nutrition" data-range-days="7"
                aria-pressed="false">
                7D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="nutrition" data-range-days="30"
                aria-pressed="false">
                30D
              </button>
            </div>
          </div>
          <div class="focus-body">
            <div id="nutritionDay" class="nutrition-day">
              <div id="nutritionMacros" class="sleep-details">
                <div class="sleep-row"><span class="sleep-label">Carbs</span><span class="sleep-value"
                    id="nutritionCarbs">—</span></div>
                <div class="sleep-row"><span class="sleep-label">Protein</span><span class="sleep-value"
                    id="nutritionProtein">—</span></div>
                <div class="sleep-row"><span class="sleep-label">Fat</span><span class="sleep-value"
                    id="nutritionFat">—</span></div>
              </div>
            </div>
            <div id="nutritionRange" class="nutrition-range" hidden>
              <canvas id="focusNutritionCaloriesChart"></canvas>
            </div>
	          </div>
	        </div>

        <div class="focus-card glass">
          <div class="focus-head">
            <div>
              <div class="focus-kicker">Blood pressure</div>
              <div class="focus-value" id="bpNow">—</div>
              <div class="muted" id="bpMeta">Last 7 days</div>
            </div>
            <div class="segmented" role="group" aria-label="Blood pressure range">
              <button type="button" class="segmented-btn" data-range-panel="bp" data-range-days="7" aria-pressed="true">
                7D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="bp" data-range-days="14"
                aria-pressed="false">
                14D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="bp" data-range-days="30"
                aria-pressed="false">
                30D
              </button>
            </div>
          </div>
          <canvas id="focusBpChart"></canvas>
          <div class="focus-note" id="bpNote"></div>
        </div>

        <div class="focus-card glass">
          <div class="focus-head">
            <div>
              <div class="focus-kicker">Weight</div>
              <div class="focus-value" id="weightNow">—</div>
              <div class="muted" id="weightMeta">Last 30 days</div>
            </div>
            <div class="segmented" role="group" aria-label="Weight range">
              <button type="button" class="segmented-btn" data-range-panel="weight" data-range-days="7"
                aria-pressed="false">
                7D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="weight" data-range-days="14"
                aria-pressed="false">
                14D
              </button>
              <button type="button" class="segmented-btn" data-range-panel="weight" data-range-days="30"
                aria-pressed="true">
                30D
              </button>
            </div>
          </div>
          <canvas id="focusWeightChart"></canvas>
          <div class="focus-note" id="weightNote"></div>
        </div>
      </div>
    </section>

    <section class="card glass" aria-labelledby="insights-title">
      <h2 id="insights-title">For You</h2>
      <div class="insights-grid" id="insightsGrid">
        <div class="insight insight--wide glass">
          <div class="focus-kicker">Overall summary</div>
          <div class="title" id="insightOverallTitle">—</div>
          <div class="body" id="insightOverallBody">—</div>
        </div>

        <div class="insight glass">
          <div class="focus-kicker">Sleep</div>
          <div class="title" id="insightSleepTitle">—</div>
          <div class="body" id="insightSleepBody">—</div>
        </div>

        <div class="insight glass">
          <div class="focus-kicker">Physiological stress</div>
          <div class="title" id="insightStressTitle">—</div>
          <div class="body" id="insightStressBody">—</div>
        </div>

        <div class="insight glass">
          <div class="focus-kicker">Exercise</div>
          <div class="title" id="insightExerciseTitle">—</div>
          <div class="body" id="insightExerciseBody">—</div>
        </div>

        <div class="insight glass">
          <div class="focus-kicker">Nutrition</div>
          <div class="title" id="insightNutritionTitle">—</div>
          <div class="body" id="insightNutritionBody">—</div>
        </div>

        <div class="insight glass">
          <div class="focus-kicker">Blood pressure</div>
          <div class="title" id="insightBpTitle">—</div>
          <div class="body" id="insightBpBody">—</div>
        </div>

        <div class="insight glass">
          <div class="focus-kicker">Weight</div>
          <div class="title" id="insightWeightTitle">—</div>
          <div class="body" id="insightWeightBody">—</div>
        </div>
      </div>
      <p class="disclaimer">
        This is a demo and not medical advice. For health concerns, consult a qualified
        professional.
      </p>
    </section>

    <section class="card" aria-labelledby="data-title">
      <h2 id="data-title">Data</h2>
      <details class="data-details">
        <summary>Import / edit JSON</summary>

        <div class="import-grid">
          <div class="import-controls">
            <label class="file-label">
              <span>Upload JSON</span>
              <input id="fileInput" type="file" accept="application/json" />
            </label>

            <div class="button-row">
              <button id="loadSampleBtn" type="button">Load sample</button>
              <button id="analyzeBtn" type="button" class="primary">Analyze</button>
              <button id="regenerateBtn" type="button" class="secondary">Regenerate AI</button>
              <button id="clearBtn" type="button" class="secondary">Clear</button>
            </div>

            <div class="profile-picker" aria-label="Sample profiles">
              <div class="profile-picker-title">Sample profiles</div>
              <div class="profile-picker-row" role="group" aria-label="Select sample profile">
                <button type="button" class="profile-btn" data-profile="baseline-barry">
                  Baseline Barry
                </button>
                <button type="button" class="profile-btn" data-profile="weightloss-wally">
                  Weight-loss Wally
                </button>
                <button type="button" class="profile-btn" data-profile="athlete-anna">
                  Athlete Anna
                </button>
                <button type="button" class="profile-btn" data-profile="protein-paul">
                  Protein-deficient Paul
                </button>
                <button type="button" class="profile-btn" data-profile="hypertension-holly">
                  Hypertension Holly
                </button>
                <button type="button" class="profile-btn" data-profile="chronic-chloe">
                  Chronic Chloe
                </button>
              </div>
            </div>

            <p class="hint">
              Tip: a sample dataset loads automatically on startup. Use this panel to
              import or paste your own JSON.
            </p>
          </div>

          <div>
            <label for="jsonInput">Paste canonical JSON</label>
            <textarea id="jsonInput" spellcheck="false" placeholder="Paste your JSON here..." rows="14"></textarea>
          </div>
        </div>

        <details class="schema">
          <summary>Canonical JSON schema (minimal)</summary>
          <pre><code>{
  "schemaVersion": 1,
  "user": { "id": "demo", "tz": "America/Los_Angeles" },
  "records": [
    {
      "type": "sleep_session",
      "start": "2026-01-11T23:05:00-08:00",
      "end": "2026-01-12T06:30:00-08:00",
      "data": { "quality": 0.78 },
      "source": "WearableCo"
    },
    {
      "type": "nutrition",
      "timestamp": "2026-01-12T20:00:00-08:00",
      "data": { "calories": 2150, "protein_g": 125, "sugar_g": 34 },
      "source": "FoodLog"
    }
  ]
}</code></pre>
        </details>
      </details>
    </section>

  </div>

  <div id="tooltip" class="tooltip" hidden></div>

  <script src="./app.js"></script>
</body>

</html>
